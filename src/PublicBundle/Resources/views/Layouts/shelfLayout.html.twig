{% extends "PublicBundle::Layouts/baseLayout.html.twig" %}

{% block pagePluginsStyles %}
    <link rel="stylesheet" href="{{ asset(PLUGINS~'Toastr/toastr.min.css') }}" type="text/css">
{% endblock %}


{% block content %}
    {% block shelfContent %}{% endblock %}

    <!-- display-model-modal -->
    <div class="modal fade bs-modal-lg" id="display-model-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title"> 获取模板 </h4>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn dark btn-outline" data-dismiss="modal"> 关闭 </button>
                </div>
            </div>
        </div>
    </div>

    <!-- general-settings-modal -->
    <div class="modal fade bs-modal-lg" id="general-settings-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title"> <i class="iconfont icon-spanner-screwdriver"></i> 常用设置 </h4>
                    <ul class="nav nav-tabs">
                        {{ layouts.liTabPane('create-code-tab', 'edit', '生成代码', 'active') }}
                        {{ layouts.liTabPane('edit-style-tab', 'spanner', '设置样式') }}
                        {{ layouts.liTabPane('set-tag-tab', 'tag', '设置标签') }}
                        {{ layouts.liTabPane('add-screen-tab', 'screen', '添加通屏') }}
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active create-code-tab">
                            <div style="height:350px;">
                                <div class="row">
                                    <textarea class="form-control code-textarea" style="resize:none;" rows="18">{% for i in 1..100 %}{% for j in 'A'..'Z' %}{{ j }}{% endfor %}{% endfor %}</textarea>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane edit-style-tab">
                            <div style="height: 200px;">
                                <h4> 设置样式 </h4>
                            </div>
                        </div>
                        <div class="tab-pane set-tag-tab">
                            <div style="height: 200px;">
                                <h4> 设置标签 </h4>
                            </div>
                        </div>
                        <div class="tab-pane add-screen-tab">
                            <div style="height: 200px;">
                                <h4> 添加通屏 </h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="tab-content">
                        <div class="tab-pane active create-code-tab">
                            <button type="button" class="btn dark btn-outline copy-code-btn"> 复制代码 </button>
                            <button type="button" class="btn dark btn-outline" data-dismiss="modal"> 关闭 </button>
                        </div>
                        <div class="tab-pane edit-style-tab">
                            <button type="button" class="btn dark btn-outline" data-dismiss="modal"> 关闭 </button>
                        </div>
                        <div class="tab-pane set-tag-tab">
                            <button type="button" class="btn dark btn-outline" data-dismiss="modal"> 关闭 </button>
                        </div>
                        <div class="tab-pane add-screen-tab">
                            <button type="button" class="btn dark btn-outline" data-dismiss="modal"> 关闭 </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block pagePluginsScripts %}
    <script src="{{ asset(PLUGINS~'ZeroClipboard/ZeroClipboard.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset(PLUGINS~'Toastr/toastr.min.js') }}" type="text/javascript"></script>
{% endblock %}

{% block javascripts %}
    <script type="text/javascript">
        $(function(){
            $('#general-settings-modal').modal('show');
            var clip = new ZeroClipboard($(".copy-code-btn"));
            clip.on("copy", function(e) {
                clip.setText($('.code-textarea').val());
            });
            clip.on("aftercopy", function(e) {
                toastr.options = {
                    "closeButton": true,
                    "debug": false,
                    "newestOnTop": true,
                    "progressBar": true,
                    "positionClass": "toast-top-right",
                    "preventDuplicates": false,
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "2000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                };
                toastr.success('复制成功！', '提示');
            });

        })
    </script>
{% endblock %}

